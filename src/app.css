@tailwind base;
@tailwind components;
@tailwind utilities;
 
 /* Global tap feedback */
 a:active, button:active {
     opacity: 0.7;
     transition: opacity 0.1s;
 }
 
 /* Ensure better touch handling */
 a, button {
     touch-action: manipulation;
 }
 
 /* Theme-aware app logo coloring */
 .app-logo {
     /* Approximate Catppuccin Latte Text from white logo */
     filter: brightness(0) saturate(100%) invert(29%) sepia(10%) saturate(894%) hue-rotate(213deg) brightness(95%) contrast(91%);
 }
 
 .dark .app-logo {
     /* Keep logo white on dark backgrounds (Frappe text-like) */
     filter: none;
 }

 body {
      @apply bg-gray-50 dark:bg-slate-950 antialiased text-gray-900 dark:text-white;
  }

  /* Theme-driven app-shell background (desktop-friendly) */
  .app-shell {
      --shell-glow-1-alpha: 0.10;
      --shell-glow-2-alpha: 0.08;
      --shell-glow-3-alpha: 0.07;

      background-color: rgb(var(--color-base-rgb, 239 241 245) / 1);
      background-image:
          radial-gradient(1200px circle at 0% 0%, rgb(var(--color-sky-rgb, 4 165 229) / var(--shell-glow-1-alpha)), transparent 60%),
          radial-gradient(1000px circle at 100% 10%, rgb(var(--color-mauve-rgb, 136 57 239) / var(--shell-glow-2-alpha)), transparent 55%),
          radial-gradient(1100px circle at 100% 100%, rgb(var(--color-rosewater-rgb, 220 138 120) / var(--shell-glow-3-alpha)), transparent 60%);
      background-repeat: no-repeat;
      background-attachment: fixed;
  }

  .dark .app-shell {
      --shell-glow-1-alpha: 0.14;
      --shell-glow-2-alpha: 0.12;
      --shell-glow-3-alpha: 0.10;

      background-color: rgb(var(--color-crust-rgb, 17 17 27) / 1);
  }


/* Custom Scrollbar for Glass UI */
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.3);
    border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(156, 163, 175, 0.5);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
}

 .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.3);
 }

 .native-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
    touch-action: pan-y;
    transform: translateZ(0);
 }

 /* Prevent long unbroken strings from overflowing message bubbles */
 .break-anywhere {
    overflow-wrap: anywhere;
    word-break: break-word;
 }
 
/* Safe area utilities with fallback for older Android WebViews (< 140) */
/* SystemBars plugin injects --safe-area-inset-* CSS variables as fallback */
.android-safe-area-top {
    padding-top: var(--safe-area-inset-top, env(safe-area-inset-top));
}

.pt-safe {
    padding-top: var(--safe-area-inset-top, env(safe-area-inset-top));
}

.android-safe-area-bottom {
    padding-bottom: var(--safe-area-inset-bottom, env(safe-area-inset-bottom));
}

.android-safe-area-vert {
    padding-top: var(--safe-area-inset-top, env(safe-area-inset-top));
    padding-bottom: var(--safe-area-inset-bottom, env(safe-area-inset-bottom));
}

/* Combined padding: use greater of base padding OR safe area */
.p-2-safe-bottom {
    padding-bottom: max(0.5rem, var(--safe-area-inset-bottom, env(safe-area-inset-bottom)));
}

.p-4-safe-bottom {
    padding-bottom: max(1rem, var(--safe-area-inset-bottom, env(safe-area-inset-bottom)));
}

/* Scroll container padding: base padding PLUS safe area */
.pb-safe-offset-16 {
    padding-bottom: calc(4rem + var(--safe-area-inset-bottom, env(safe-area-inset-bottom)));
}

.pb-safe-offset-28 {
    padding-bottom: calc(7rem + var(--safe-area-inset-bottom, env(safe-area-inset-bottom)));
}
 
 @layer components {
    .typ-title {
        @apply text-xl md:text-2xl font-bold tracking-tight;
    }

    .typ-section {
        @apply text-base md:text-lg font-semibold;
    }

    .typ-body {
        @apply text-sm md:text-base leading-relaxed;
    }

    .typ-meta {
        @apply text-xs font-medium tracking-wide;
    }
}
