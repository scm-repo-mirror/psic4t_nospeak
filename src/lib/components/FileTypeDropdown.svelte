<script lang="ts">
    let {
        onFileTypeSelect,
        showCameraOption = false,
        onTakePhoto
    } = $props<{
        onFileTypeSelect: (type: 'image' | 'video') => void;
        showCameraOption?: boolean;
        onTakePhoto?: () => void;
    }>();

    function handleImageClick() {
        onFileTypeSelect('image');
    }

    function handleVideoClick() {
        onFileTypeSelect('video');
    }

    function handleTakePhotoClick() {
        if (onTakePhoto) {
            onTakePhoto();
        }
    }
</script>

<div class="py-1">
    {#if showCameraOption && onTakePhoto}
        <button
            type="button"
            onclick={handleTakePhotoClick}
            class="w-full text-left px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-200"
        >
            <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-gray-600 dark:text-gray-300"
            >
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h3l2-3h8l2 3h3a2 2 0 0 1 2 2z" />
                <circle cx="12" cy="13" r="4" />
            </svg>
            <span>Take photo</span>
        </button>
    {/if}
    <button
        type="button"
        onclick={handleImageClick}
        class="w-full text-left px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-200"
    >
        <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-gray-600 dark:text-gray-300"
        >
            <rect x="3" y="5" width="18" height="14" rx="2" ry="2" />
            <circle cx="8" cy="10" r="2" />
            <path d="M21 15l-4-4-6 6" />
        </svg>
        <span>Image</span>
    </button>
    <button
        type="button"
        onclick={handleVideoClick}
        class="w-full text-left px-4 py-2 flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-200"
    >
        <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-gray-600 dark:text-gray-300"
        >
            <rect x="3" y="6" width="13" height="12" rx="2" ry="2" />
            <polygon points="16 10 21 7 21 17 16 14" />
        </svg>
        <span>Video</span>
    </button>
</div>
